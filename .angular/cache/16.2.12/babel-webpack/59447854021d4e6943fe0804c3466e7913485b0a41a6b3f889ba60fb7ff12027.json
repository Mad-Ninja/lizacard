{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class MainPageComponent {\n  constructor() {}\n  ngOnInit() {\n    const randInt = (min, max) => {\n      return Math.floor(Math.random() * (max - min + 1)) + min;\n    };\n    function addListeners() {\n      const bubbles = document.querySelectorAll('.bubble');\n      // add listener to all bubbles\n      for (let i = 0; i < bubbles.length; i++) {\n        bubbles[i].addEventListener('click', e => {\n          handleBubbleClick(bubbles[i]);\n        });\n        bubbles[i].addEventListener('mouseover', e => {\n          handleBubbleClick(bubbles[i]);\n        });\n        bubbles[i].addEventListener('touchstart', e => {\n          e.preventDefault(); // Prevent default touch behavior\n          handleBubbleClick(bubbles[i]);\n        });\n      }\n    }\n    function handleBubbleClick(bubble) {\n      const maskCircle = document.getElementById(bubble.id + 'mask');\n      // @ts-ignore\n      const hole = maskCircle.querySelector('.r');\n      // @ts-ignore\n      let animDur = parseInt(hole.getAttribute('dur'));\n      let hh = window.innerHeight;\n      let ww = window.innerWidth;\n      let xOff = Math.floor(ww / 90);\n      let yOff = Math.floor(hh / 90);\n      // @ts-ignore\n      maskCircle.setAttribute('transform', `translate(${randInt(-xOff, xOff)} ${randInt(-yOff, yOff)})`);\n      // make it unclickable after clicked\n      bubble.setAttribute('user-select', 'none');\n      bubble.setAttribute('pointer-events', 'none');\n      let br = bubble.getAttribute('r') * 1;\n      bubble.setAttribute('r', br * 1.11);\n      // @ts-ignore\n      hole.beginElement();\n      confetti(bubble, {\n        type: 'circle',\n        colors: ['rgba(255,255,255,0.3)', 'rgba(255,255,255,0.25)', 'rgba(255,255,255,0.2)', 'rgba(255,255,255,0.15)', 'rgba(255,255,255,0.1)'],\n        flakes: randInt(5, 10),\n        spin: true,\n        fadeout: true,\n        angle: 180,\n        spread: xOff * 20,\n        drop: yOff * 15,\n        speed: 2000\n      });\n      setTimeout(() => {\n        bubble.remove();\n        // @ts-ignore\n        maskCircle.remove();\n        if (document.querySelectorAll('#bubbleArea > circle').length === 0) {\n          confetti(document.querySelector('.bubblePopper'), {\n            flakes: 150,\n            spin: true,\n            fadeout: true,\n            drop: window.innerHeight,\n            spread: window.innerWidth,\n            speed: 10000\n          });\n        }\n      }, animDur);\n    }\n    function createBubbles() {\n      let hh = window.innerHeight;\n      let ww = window.innerWidth;\n      let numBubbles = randInt(12, 22);\n      document.querySelector('.bubblePopper').setAttribute('viewBox', `0 0 ${ww} ${hh}`);\n      document.querySelector('#bubbleArea').innerHTML = '';\n      document.querySelector('#bubbleDef').innerHTML = '';\n      let rr = randInt(0, 255),\n        gg = randInt(0, 255),\n        bb = randInt(0, 255);\n      const getUUID = () => {\n        let d = new Date().getTime();\n        let uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n          let r = (d + Math.random() * 16) % 16 | 0;\n          d = Math.floor(d / 16);\n          return (c == \"x\" ? r : r & 0x3 | 0x8).toString(16);\n        });\n        return uuid;\n      };\n      for (let j = 0; j < Math.floor(numBubbles / 2); j++) {\n        let palette = `rgb(${(j + 1) * rr % 255}, ${(j + 1) * gg % 255}, ${(j + 1) * bb % 255})`;\n        document.querySelector('#bubbleDef').innerHTML += `<radialGradient id=\"grad${j}\" fx=\"0.70\" fy=\"0.35\">\n\t\t\t<stop offset=\"0%\" stop-color=\"${palette}\" stop-opacity=\"0.6\"/>\n\t\t\t<stop offset=\"100%\" stop-color=\"${palette}\" stop-opacity=\"0.1\" />\n\t\t</radialGradient>`;\n      }\n      for (let i = 0; i < numBubbles; i++) {\n        let dur = ww * hh / 50;\n        dur += randInt(0, 4000);\n        if (dur <= 17000) {\n          dur = 17000;\n        }\n        let cxBeg = randInt(-dur, 0);\n        let cyBeg = randInt(-dur, 0);\n        let r = randInt(Math.floor(dur / 300) - 5, Math.floor(dur / 300) + 5);\n        let id = getUUID();\n        let maskBubble = `<mask id=\"holeMask${i}${id}\"><rect width=\"100%\" height=\"100%\" fill=\"#fff\" /><circle class=\"hole\" id=\"b${i}${id}mask\" cx=\"-50\" cy=\"-50\" r=\"0\" filter=\"url(#roughEdges)\"><animate attributeName=\"cx\" values=\"${r}; ${ww - r}; ${r}\" dur=\"${dur}ms\" begin=\"${cxBeg}ms\" repeatCount=\"indefinite\" keyTimes=\"0;0.5;1\" keySplines=\"0.45 0.59 0.56 0.33;0.45 0.59 0.56 0.33\" calcMode=\"spline\" /><animate attributeName=\"cy\" values=\"${r}; ${hh - r}; ${r}\" dur=\"${dur}ms\" begin=\"${cyBeg}ms\" repeatCount=\"indefinite\" keyTimes=\"0;0.5;1\" keySplines=\"0.45 0.59 0.56 0.33;0.45 0.59 0.56 0.33\" calcMode=\"spline\" /><animate class=\"r\" attributeName=\"r\" values=\"0; ${r * 1.5}\" dur=\"${randInt(200, 400)}ms\" begin=\"indefinite\" repeatCount=\"none\" fill=\"freeze\" keyTimes=\"0;1\" keySplines=\"0 0.26 0 0.35\" calcMode=\"spline\"/></circle></mask>`;\n        let bubble = `<circle class=\"bubble\" id=\"b${i}${id}\" cx=\"50\" cy=\"50\" r=\"${r}\" fill=\"url(#grad${[i % Math.floor(numBubbles / 2)]})\" filter=\"drop-shadow(1 1 .5 rgba(255,255,255,0.5))\" mask=\"url(#holeMask${i}${id})\"><animate attributeName=\"cx\" values=\"${r}; ${ww - r}; ${r}\" dur=\"${dur}ms\" begin=\"${cxBeg}ms\" repeatCount=\"indefinite\" keyTimes=\"0;0.5;1\" keySplines=\"0.45 0.59 0.56 0.33;0.45 0.59 0.56 0.33\" calcMode=\"spline\" /><animate attributeName=\"cy\" values=\"${r}; ${hh - r}; ${r}\" dur=\"${dur}ms\" begin=\"${cyBeg}ms\" repeatCount=\"indefinite\" keyTimes=\"0;0.5;1\" keySplines=\"0.45 0.59 0.56 0.33;0.45 0.59 0.56 0.33\" calcMode=\"spline\" /></circle>`;\n        let wrapper = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n        let wrapper1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n        wrapper.innerHTML = `${bubble}`;\n        wrapper1.innerHTML = `${maskBubble}`;\n        let maskBubble1 = wrapper1.firstChild;\n        let bubble1 = wrapper.firstChild;\n        document.querySelector('#bubbleDef').appendChild(maskBubble1);\n        document.querySelector('#bubbleArea').appendChild(bubble1);\n      }\n      addListeners();\n    }\n    createBubbles();\n    document.querySelector('#reset').addEventListener('click', createBubbles);\n  }\n  ngOnDestroy() {}\n  static #_ = this.ɵfac = function MainPageComponent_Factory(t) {\n    return new (t || MainPageComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MainPageComponent,\n    selectors: [[\"app-mainpage\"]],\n    decls: 17,\n    vars: 0,\n    consts: [[\"viewBox\", \"0 0 100 100\", 1, \"bubblePopper\"], [\"id\", \"bubbleDef\"], [\"id\", \"roughEdges\"], [\"type\", \"fractalNoise\", \"baseFrequency\", \".3\", \"numOctaves\", \"10\"], [\"in\", \"SourceGraphic\", \"scale\", \"25\"], [\"operator\", \"in\", \"in2\", \"SourceGraphic\"], [\"id\", \"grad\"], [\"offset\", \"0%\", \"stop-color\", \"rgba(0,255,255,0.5)\"], [\"offset\", \"100%\", \"stop-color\", \"rgba(0,255,255,0.1)\"], [\"id\", \"bubbleArea\"], [\"id\", \"reset\", \"title\", \"Maybe you were too harsh. Bring him back\"], [\"viewBox\", \"0 0 24 24\", \"width\", \"50%\", \"height\", \"100%\", \"stroke\", \"#111\", \"stroke-width\", \"3\", \"fill\", \"none\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\"], [\"points\", \"1 4 1 10 7 10\"], [\"points\", \"23 20 23 14 17 14\"], [\"d\", \"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15\"]],\n    template: function MainPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(0, \"svg\", 0)(1, \"defs\");\n        i0.ɵɵelement(2, \"g\", 1);\n        i0.ɵɵelementStart(3, \"filter\", 2);\n        i0.ɵɵelement(4, \"feTurbulence\", 3)(5, \"feDisplacementMap\", 4)(6, \"feComposite\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"radialGradient\", 6);\n        i0.ɵɵelement(8, \"stop\", 7)(9, \"stop\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(10, \"g\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(11, \"button\", 10)(12, \"span\");\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(13, \"svg\", 11);\n        i0.ɵɵelement(14, \"polyline\", 12)(15, \"polyline\", 13)(16, \"path\", 14);\n        i0.ɵɵelementEnd()()();\n      }\n    },\n    styles: [\".btn[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n\\n.custom-img[_ngcontent-%COMP%] {\\n  height: 24px;\\n  margin-bottom: 10px;\\n}\\n\\n*[_ngcontent-%COMP%] {\\n  width: 100vw;\\n  height: 100vh;\\n  background-image: url(\\\"/assets/images/1685980924_en-idei-club-p-st-valentine-s-day-dizain-pinterest-1.jpg\\\") !important;\\n  background-color: #cccccc;\\n  background-size: cover;\\n  background-position: center center;\\n}\\n\\nbody[_ngcontent-%COMP%] {\\n  margin: 0 auto;\\n  height: 100vh;\\n  background: linear-gradient(45deg, #000000, #232323);\\n}\\n\\n.bubblePopper[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  height: 100%;\\n  width: 100%;\\n  cursor: url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewbox='0 0 28 28' height='28' width='28'%3E%3Cpath d='M 2 2 l23 23' fill='none' stroke='rgba(0,0,0,0.5)' stroke-width='1.6' stroke-linecap='round' /%3E%3Cpath d='M 2 2 l23 23' fill='none' stroke='%23ccc' stroke-width='1.4' stroke-linecap='round' /%3E%3Ccircle cx='24' cy='24' r='3.3' fill='rgba(0,0,0,0.5)' /%3E%3Ccircle cx='24' cy='24' r='3' fill='orange' /%3E%3C/svg%3E\\\") 2 2, auto;\\n}\\n\\n.mouth[_ngcontent-%COMP%], .eyeL[_ngcontent-%COMP%], .eyeR[_ngcontent-%COMP%] {\\n  transition: 200ms;\\n}\\n\\n#reset[_ngcontent-%COMP%] {\\n  position: fixed;\\n  bottom: 20px;\\n  right: 20px;\\n  height: 70px;\\n  width: 70px;\\n  border-radius: 50%;\\n  box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.8);\\n  border: none;\\n  cursor: pointer;\\n  font-weight: bold;\\n  background: #d1cfe2;\\n}\\n\\n#reset[_ngcontent-%COMP%]    > span[_ngcontent-%COMP%] {\\n  -webkit-user-select: none;\\n          user-select: none;\\n  pointer-events: none;\\n}\\n\\n#reset[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-2px);\\n  box-shadow: 0px 6px 8px rgba(0, 0, 0, 0.6);\\n  border: 2px solid #52b2cf;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9tYWlucGFnZS9tYWlucGFnZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLGVBQUE7QUFDRDs7QUFFQTtFQUVDLFlBQUE7RUFDQSxtQkFBQTtBQUFEOztBQUdBO0VBQ0UsWUFBQTtFQUNBLGFBQUE7RUFDQSxzSEFBQTtFQUNBLHlCQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQ0FBQTtBQUFGOztBQUtBO0VBQ0UsY0FBQTtFQUNBLGFBQUE7RUFDQSxvREFBQTtBQUZGOztBQUlBO0VBQ0Usa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLGdDQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSwyY0FBQTtBQURGOztBQU1BO0VBQ0UsaUJBQUE7QUFIRjs7QUFLQTtFQUNFLGVBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSwwQ0FBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtBQUZGOztBQUlBO0VBQ0UseUJBQUE7VUFBQSxpQkFBQTtFQUNBLG9CQUFBO0FBREY7O0FBR0E7RUFDRSwyQkFBQTtFQUNBLDBDQUFBO0VBQ0EseUJBQUE7QUFBRiIsInNvdXJjZXNDb250ZW50IjpbIi5idG4ge1xuXHRjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5jdXN0b20taW1nIHtcblx0Ly93aWR0aDogMjRweDtcblx0aGVpZ2h0OiAyNHB4O1xuXHRtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuXG4qIHtcbiAgd2lkdGg6IDEwMHZ3O1xuICBoZWlnaHQ6IDEwMHZoO1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvaW1hZ2VzLzE2ODU5ODA5MjRfZW4taWRlaS1jbHViLXAtc3QtdmFsZW50aW5lLXMtZGF5LWRpemFpbi1waW50ZXJlc3QtMS5qcGcnKSAhaW1wb3J0YW50O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjY2NjO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgY2VudGVyO1xuXG5cbn1cblxuYm9keSB7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBoZWlnaHQ6IDEwMHZoO1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMDAwMDAsIzIzMjMyMyk7XG59XG4uYnViYmxlUG9wcGVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDUwJTtcbiAgbGVmdDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuICBjdXJzb3I6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Ym94PScwIDAgMjggMjgnIGhlaWdodD0nMjgnIHdpZHRoPScyOCclM0UlM0NwYXRoIGQ9J00gMiAyIGwyMyAyMycgZmlsbD0nbm9uZScgc3Ryb2tlPSdyZ2JhKDAsMCwwLDAuNSknIHN0cm9rZS13aWR0aD0nMS42JyBzdHJva2UtbGluZWNhcD0ncm91bmQnIC8lM0UlM0NwYXRoIGQ9J00gMiAyIGwyMyAyMycgZmlsbD0nbm9uZScgc3Ryb2tlPSclMjNjY2MnIHN0cm9rZS13aWR0aD0nMS40JyBzdHJva2UtbGluZWNhcD0ncm91bmQnIC8lM0UlM0NjaXJjbGUgY3g9JzI0JyBjeT0nMjQnIHI9JzMuMycgZmlsbD0ncmdiYSgwLDAsMCwwLjUpJyAvJTNFJTNDY2lyY2xlIGN4PScyNCcgY3k9JzI0JyByPSczJyBmaWxsPSdvcmFuZ2UnIC8lM0UlM0Mvc3ZnJTNFXCIpXG4gIDIgMixcbiAgYXV0bztcbn1cblxuLm1vdXRoLCAuZXllTCwgLmV5ZVIge1xuICB0cmFuc2l0aW9uOiAyMDBtcztcbn1cbiNyZXNldCB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgYm90dG9tOiAyMHB4O1xuICByaWdodDogMjBweDtcbiAgaGVpZ2h0OiA3MHB4O1xuICB3aWR0aDogNzBweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBib3gtc2hhZG93OiAwcHggNHB4IDZweCByZ2JhKDAsMCwwLDAuOCk7XG4gIGJvcmRlcjogbm9uZTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgYmFja2dyb3VuZDogI2QxY2ZlMjtcbn1cbiNyZXNldCA+IHNwYW4ge1xuICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG59XG4jcmVzZXQ6aG92ZXIge1xuICB0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMnB4KTtcbiAgYm94LXNoYWRvdzogMHB4IDZweCA4cHggcmdiYSgwLDAsMCwwLjYpO1xuICBib3JkZXI6IDJweCBzb2xpZCAjNTJiMmNmO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["MainPageComponent","constructor","ngOnInit","randInt","min","max","Math","floor","random","addListeners","bubbles","document","querySelectorAll","i","length","addEventListener","e","handleBubbleClick","preventDefault","bubble","maskCircle","getElementById","id","hole","querySelector","animDur","parseInt","getAttribute","hh","window","innerHeight","ww","innerWidth","xOff","yOff","setAttribute","br","beginElement","confetti","type","colors","flakes","spin","fadeout","angle","spread","drop","speed","setTimeout","remove","createBubbles","numBubbles","innerHTML","rr","gg","bb","getUUID","d","Date","getTime","uuid","replace","c","r","toString","j","palette","dur","cxBeg","cyBeg","maskBubble","wrapper","createElementNS","wrapper1","maskBubble1","firstChild","bubble1","appendChild","ngOnDestroy","_","_2","selectors","decls","vars","consts","template","MainPageComponent_Template","rf","ctx","i0","ɵɵnamespaceSVG","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵnamespaceHTML"],"sources":["/home/madninja/webstormprojects/cardLizaProject/lizacard-app/src/app/components/mainpage/mainpage.component.ts","/home/madninja/webstormprojects/cardLizaProject/lizacard-app/src/app/components/mainpage/mainpage.component.html"],"sourcesContent":["import {\n  Component,\n  Inject,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n} from \"@angular/core\";\n\nimport { DOCUMENT } from \"@angular/common\";\nimport { ActivatedRoute } from \"@angular/router\";\n\n\n@Component({\n  selector: \"app-mainpage\",\n  templateUrl: \"./mainpage.component.html\",\n  styleUrls: [\"./mainpage.component.scss\"],\n})\nexport class MainPageComponent implements OnInit, OnDestroy {\n\n\n  constructor(\n  ) {}\n\n  ngOnInit() {\n    const randInt = (min: number, max: number) => {\n      return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n    function addListeners() {\n      const bubbles = document.querySelectorAll('.bubble');\n      // add listener to all bubbles\n      for (let i = 0; i < bubbles.length; i++) {\n        bubbles[i].addEventListener('click', (e) => {\n          handleBubbleClick(bubbles[i]);\n        });\n        bubbles[i].addEventListener('mouseover', (e) => {\n          handleBubbleClick(bubbles[i]);\n        });\n        bubbles[i].addEventListener('touchstart', (e) => {\n          e.preventDefault(); // Prevent default touch behavior\n          handleBubbleClick(bubbles[i]);\n        });\n      }\n    }\n    function handleBubbleClick(bubble: any) {\n      const maskCircle = document.getElementById(bubble.id + 'mask');\n      // @ts-ignore\n      const hole = maskCircle.querySelector('.r');\n      // @ts-ignore\n      let animDur = parseInt(hole.getAttribute('dur'));\n      let hh = window.innerHeight;\n      let ww = window.innerWidth;\n      let xOff = Math.floor(ww/90);\n      let yOff = Math.floor(hh/90);\n      // @ts-ignore\n      maskCircle.setAttribute('transform', `translate(${randInt(-xOff, xOff)} ${randInt(-yOff, yOff)})`);\n      // make it unclickable after clicked\n      bubble.setAttribute('user-select', 'none');\n      bubble.setAttribute('pointer-events', 'none');\n      let br = bubble.getAttribute('r') * 1;\n      bubble.setAttribute('r', br * 1.11);\n      // @ts-ignore\n      hole.beginElement();\n      confetti(bubble, {type: 'circle', colors:['rgba(255,255,255,0.3)', 'rgba(255,255,255,0.25)', 'rgba(255,255,255,0.2)', 'rgba(255,255,255,0.15)', 'rgba(255,255,255,0.1)'], flakes: randInt(5,10), spin: true, fadeout: true, angle: 180, spread: xOff * 20, drop: yOff * 15, speed: 2000});\n      setTimeout(() => {\n        bubble.remove();\n        // @ts-ignore\n        maskCircle.remove();\n        if (document.querySelectorAll('#bubbleArea > circle').length === 0) {\n          confetti(document.querySelector('.bubblePopper'), {flakes: 150, spin: true, fadeout: true, drop: window.innerHeight, spread: window.innerWidth, speed: 10000});\n        }\n      }, animDur);\n    }\n\n    function createBubbles() {\n      let hh = window.innerHeight;\n      let ww = window.innerWidth;\n      let numBubbles = randInt(12, 22);\n      document.querySelector('.bubblePopper').setAttribute('viewBox', `0 0 ${ww} ${hh}`);\n      document.querySelector('#bubbleArea').innerHTML = '';\n\n      document.querySelector('#bubbleDef').innerHTML = '';\n      let rr = randInt(0, 255), gg = randInt(0, 255), bb = randInt(0, 255);\n      const getUUID = () => {\n        let d = new Date().getTime();\n        let uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(\n          /[xy]/g,\n          function (c) {\n            let r = (d + Math.random() * 16) % 16 | 0;\n            d = Math.floor(d / 16);\n            return (c == \"x\" ? r : (r & 0x3) | 0x8).toString(16);\n          }\n        );\n        return uuid;\n      };\n      for (let j=0; j<Math.floor(numBubbles/2); j++) {\n        let palette = `rgb(${((j + 1) * rr) % 255}, ${((j + 1) * gg) % 255}, ${((j + 1) * bb) % 255})`;\n        document.querySelector('#bubbleDef').innerHTML += `<radialGradient id=\"grad${j}\" fx=\"0.70\" fy=\"0.35\">\n\t\t\t<stop offset=\"0%\" stop-color=\"${palette}\" stop-opacity=\"0.6\"/>\n\t\t\t<stop offset=\"100%\" stop-color=\"${palette}\" stop-opacity=\"0.1\" />\n\t\t</radialGradient>`\n      }\n      for (let i=0; i<numBubbles; i++) {\n        let dur = (ww * hh) / 50;\n        dur += randInt(0, 4000);\n        if (dur <= 17000) {\n          dur = 17000;\n        }\n        let cxBeg = randInt(-dur, 0);\n        let cyBeg = randInt(-dur, 0);\n        let r = randInt(Math.floor(dur/300) - 5, Math.floor(dur/300) + 5);\n        let id = getUUID();\n        let maskBubble = `<mask id=\"holeMask${i}${id}\"><rect width=\"100%\" height=\"100%\" fill=\"#fff\" /><circle class=\"hole\" id=\"b${i}${id}mask\" cx=\"-50\" cy=\"-50\" r=\"0\" filter=\"url(#roughEdges)\"><animate attributeName=\"cx\" values=\"${r}; ${ww - r}; ${r}\" dur=\"${dur}ms\" begin=\"${cxBeg}ms\" repeatCount=\"indefinite\" keyTimes=\"0;0.5;1\" keySplines=\"0.45 0.59 0.56 0.33;0.45 0.59 0.56 0.33\" calcMode=\"spline\" /><animate attributeName=\"cy\" values=\"${r}; ${hh - r}; ${r}\" dur=\"${dur}ms\" begin=\"${cyBeg}ms\" repeatCount=\"indefinite\" keyTimes=\"0;0.5;1\" keySplines=\"0.45 0.59 0.56 0.33;0.45 0.59 0.56 0.33\" calcMode=\"spline\" /><animate class=\"r\" attributeName=\"r\" values=\"0; ${r * 1.5}\" dur=\"${randInt(200,400)}ms\" begin=\"indefinite\" repeatCount=\"none\" fill=\"freeze\" keyTimes=\"0;1\" keySplines=\"0 0.26 0 0.35\" calcMode=\"spline\"/></circle></mask>`;\n        let bubble = `<circle class=\"bubble\" id=\"b${i}${id}\" cx=\"50\" cy=\"50\" r=\"${r}\" fill=\"url(#grad${[i % Math.floor(numBubbles/2)]})\" filter=\"drop-shadow(1 1 .5 rgba(255,255,255,0.5))\" mask=\"url(#holeMask${i}${id})\"><animate attributeName=\"cx\" values=\"${r}; ${ww - r}; ${r}\" dur=\"${dur}ms\" begin=\"${cxBeg}ms\" repeatCount=\"indefinite\" keyTimes=\"0;0.5;1\" keySplines=\"0.45 0.59 0.56 0.33;0.45 0.59 0.56 0.33\" calcMode=\"spline\" /><animate attributeName=\"cy\" values=\"${r}; ${hh - r}; ${r}\" dur=\"${dur}ms\" begin=\"${cyBeg}ms\" repeatCount=\"indefinite\" keyTimes=\"0;0.5;1\" keySplines=\"0.45 0.59 0.56 0.33;0.45 0.59 0.56 0.33\" calcMode=\"spline\" /></circle>`;\n        let wrapper = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n        let wrapper1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n        wrapper.innerHTML = `${bubble}`;\n        wrapper1.innerHTML = `${maskBubble}`;\n        let maskBubble1 = wrapper1.firstChild;\n        let bubble1 = wrapper.firstChild;\n        document.querySelector('#bubbleDef').appendChild(maskBubble1);\n        document.querySelector('#bubbleArea').appendChild(bubble1);\n      }\n      addListeners();\n    }\n\n    createBubbles();\n\n    document.querySelector('#reset').addEventListener('click', createBubbles);\n  }\n\n\n\n  public ngOnDestroy() {}\n}\n","<svg class=\"bubblePopper\" viewBox=\"0 0 100 100\">\n  <defs>\n    <g id=\"bubbleDef\"></g>\n    <filter id=\"roughEdges\">\n      <feTurbulence type=\"fractalNoise\" baseFrequency=\".3\" numOctaves=\"10\" />\n      <feDisplacementMap in=\"SourceGraphic\" scale=\"25\" />\n      <feComposite operator=\"in\" in2=\"SourceGraphic\" />\n    </filter>\n    <radialGradient id=\"grad\">\n      <stop offset=\"0%\" stop-color=\"rgba(0,255,255,0.5)\" />\n      <stop offset=\"100%\" stop-color=\"rgba(0,255,255,0.1)\" />\n    </radialGradient>\n  </defs>\n  <g id=\"bubbleArea\"></g>\n</svg>\n<button id=\"reset\" title=\"Maybe you were too harsh. Bring him back\"><span>\n\t\t<svg viewBox=\"0 0 24 24\" width=\"50%\" height=\"100%\" stroke=\"#111\" stroke-width=\"3\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n\t\t\t<polyline points=\"1 4 1 10 7 10\"></polyline>\n\t\t\t<polyline points=\"23 20 23 14 17 14\"></polyline>\n\t\t\t<path d=\"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15\"></path>\n\t\t</svg>\n\t</span>\n</button>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}